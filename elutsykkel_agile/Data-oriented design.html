<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data-Oriented Design (DOD)</title>

    <style>
        /* Tume taust gradient - sama kui teistel lehtedel */
        body {
            margin: 0;
            padding: 40px;
            font-family: "Segoe UI", Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #0f172a, #1e293b, #0f172a);
            background-attachment: fixed;
            color: #e2e8f0;
            min-height: 100vh;
        }

        /* Tume klaasi efekt - sama kui teistel lehtedel */
        .glass-box {
            max-width: 900px;
            margin: auto;
            background: rgba(15, 23, 42, 0.45);
            padding: 30px 40px;
            border-radius: 20px;
            backdrop-filter: blur(18px);
            -webkit-backdrop-filter: blur(18px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.6);
        }

        h1 {
            font-weight: 700;
            color: #93c5fd;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
            margin-top: 0;
            border-bottom: 2px solid rgba(147, 197, 253, 0.3);
            padding-bottom: 10px;
        }

        h2 {
            margin-top: 40px;
            font-weight: 600;
            color: #93c5fd;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.6);
        }

        h3 {
            margin-top: 30px;
            font-weight: 600;
            color: #7dd3fc;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        h4 {
            margin-top: 25px;
            font-weight: 600;
            color: #67e8f9;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        h5 {
            margin-top: 20px;
            font-weight: 600;
            color: #22d3ee;
            text-shadow: 0 2px 3px rgba(0, 0, 0, 0.5);
        }

        p, li {
            font-size: 1.05rem;
            line-height: 1.6;
            color: #cbd5e1;
        }

        ul, ol {
            margin-left: 20px;
            padding-left: 0;
        }

        li {
            margin-bottom: 8px;
        }

        a {
            color: #60a5fa;
            font-weight: 600;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Piltide stiil */
        .model-image {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            margin: 25px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        }

        /* Tagasi link */
        .back-link {
            display: inline-block;
            margin-top: 40px;
            padding: 10px 20px;
            background: rgba(96, 165, 250, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(96, 165, 250, 0.3);
            font-size: 1.1rem;
        }

        .back-link:hover {
            background: rgba(96, 165, 250, 0.2);
        }

        /* Tabeli stiil */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 1rem;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .comparison-table th {
            background-color: rgba(30, 41, 59, 0.7);
            color: #93c5fd;
            text-align: center;
            padding: 18px;
            font-weight: 700;
            font-size: 1.1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comparison-table td {
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            vertical-align: top;
        }

        .comparison-table tr:nth-child(even) {
            background-color: rgba(30, 41, 59, 0.3);
        }

        .comparison-table tr:nth-child(odd) {
            background-color: rgba(15, 23, 42, 0.3);
        }

        .pros {
            color: #86efac;
            font-weight: 600;
        }

        .cons {
            color: #fca5a5;
            font-weight: 600;
        }

        /* Eraldajad */
        .separator {
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(147, 197, 253, 0.3), transparent);
            margin: 40px 0;
        }

        /* Etappide kastid */
        .stage-box {
            background: rgba(30, 41, 59, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid #60a5fa;
        }

        /* Allikate loend */
        .sources-list {
            background: rgba(30, 41, 59, 0.4);
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
        }

        /* DOD efektiga kast */
        .dod-highlight {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.4), rgba(15, 23, 42, 0.4));
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 4px solid #fbbf24;
        }

        /* DOD p√µhim√µtete grid */
        .principles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .principle-item {
            background: rgba(30, 41, 59, 0.3);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .principle-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #fbbf24;
        }

        /* DOD vs OOD v√µrdlus */
        .comparison-ood-dod {
            display: flex;
            justify-content: space-between;
            margin: 25px 0;
            gap: 20px;
        }

        .ood-box, .dod-box {
            flex: 1;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .ood-box {
            background: rgba(96, 165, 250, 0.1);
            border: 1px solid rgba(96, 165, 250, 0.3);
        }

        .dod-box {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        /* Koodibloki stiil */
        .code-block {
            background: rgba(15, 23, 42, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .code-keyword {
            color: #f87171;
        }

        .code-string {
            color: #86efac;
        }

        .code-comment {
            color: #94a3b8;
            font-style: italic;
        }

        .code-function {
            color: #60a5fa;
        }

        /* Mobiili jaoks */
        @media (max-width: 768px) {
            .comparison-ood-dod {
                flex-direction: column;
            }
        }
    </style>
</head>

<body>
<div class="glass-box">

    <h1>Data-Oriented Design (DOD)</h1>
    
    <div class="dod-highlight">
        <p>
            <b>Data-Oriented Design (DOD)</b> on tarkvaraarendusmeetod, mis keskendub andmete 
            struktuuri ja t√∂√∂tlemise optimeerimisele, et saavutada maksimaalne j√µudlus. 
            Erinevalt Object-Oriented Design (OOD)-st, mis keskendub objektidele ja nende 
            k√§itumisele, keskendub DOD andmetele ja nende transformatsioonile.
        </p>
        <p>
            Data-Oriented Design keskendub sellele, kuidas andmed on salvestatud, kuidas neid 
            t√∂√∂deldakse ja kuidas need liiguvad l√§bi s√ºsteemi, et saavutada optimeeritud j√µudlus, 
            eriti j√µudluskriitilistes s√ºsteemides nagu m√§ngumootorid, teaduslikud simulatsioonid 
            ja reaalajas√ºsteemid.
        </p>
    </div>

    <h2>Data-Oriented Design p√µhiprintsiibid</h2>
    
    <div class="principles-grid">
        <div class="principle-item">
            <div class="principle-icon">üíæ</div>
            <h4>Andmete paigutus</h4>
            <p>Andmed paigutatakse m√§llu nii, et neid saaks t√∂√∂delda t√µhusalt, 
               kasutades tehnikaid nagu Array of Structs (AoS) vs Struct of Arrays (SoA).</p>
        </div>
        
        <div class="principle-item">
            <div class="principle-icon">‚ö°</div>
            <h4>Vahem√§lu efektiivsus</h4>
            <p>Optimeeritakse vahem√§lu kasutust, v√§hendades vahem√§pu puudumisi 
               ja tagades, et andmed on m√§lus koos, mida koos vaja.</p>
        </div>
        
        <div class="principle-item">
            <div class="principle-icon">üìä</div>
            <h4>Andmete transformatsioon</h4>
            <p>Keskendutakse andmete transformatsioonile massina, mitte √ºksikute 
               andmet√∂√∂tlustena, et √§ra kasutada paralleelseid arvutusv√µimalusi.</p>
        </div>
    </div>

    <div class="separator"></div>

    <h2>Object-Oriented Design vs Data-Oriented Design</h2>
    
    <div class="comparison-ood-dod">
        <div class="ood-box">
            <h3>Object-Oriented Design (OOD)</h3>
            <ul>
                <li><b>Fookus:</b> Objektid ja nende k√§itumine</li>
                <li><b>Andmete paigutus:</b> Hajutatud, objektikeskne</li>
                <li><b>T√∂√∂tlemine:</b> √úksikute objektide meetodid</li>
                <li><b>M√§lu:</b> Sageli ebaefektiivne, palju viiteid</li>
                <li><b>J√µudlus:</b> Tavaliselt aeglasem, rohkem vahem√§pu puudumisi</li>
                <li><b>Sobivus:</b> √Ñrilogika, kasutajaliidesed</li>
            </ul>
        </div>
        
        <div class="dod-box">
            <h3>Data-Oriented Design (DOD)</h3>
            <ul>
                <li><b>Fookus:</b> Andmed ja nende transformatsioon</li>
                <li><b>Andmete paigutus:</b> Tihe, andmekeskne</li>
                <li><b>T√∂√∂tlemine:</b> Massiivide transformatsioonid</li>
                <li><b>M√§lu:</b> Optimeeritud, v√§he viiteid</li>
                <li><b>J√µudlus:</b> Kiirem, v√§hem vahem√§pu puudumisi</li>
                <li><b>Sobivus:</b> J√µudluskriitilised s√ºsteemid, simulatsioonid</li>
            </ul>
        </div>
    </div>

    <div class="separator"></div>

    <h2>Data-Oriented Design visuaalne esitus</h2>
    <img src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*vtIyJksRNsV0iv7HAhWLnQ.gif" 
         alt="Data-Oriented Design ts√ºkli diagramm" 
         class="model-image">
    <p style="text-align: center; font-style: italic; color: #94a3b8;">
        Data-Oriented Design ts√ºkkel - andmete paigutus, transformatsioon ja optimeerimine
    </p>

    <div class="separator"></div>

    <h2>Data-Oriented Design eelised ja puudused</h2>
    
    <table class="comparison-table">
        <tr>
            <th style="width: 50%;"><span class="pros">Eelised (Plussid)</span></th>
            <th style="width: 50%;"><span class="cons">Puudused (Miinused)</span></th>
        </tr>
        <tr>
            <td>
                <h4>J√µudlus</h4>
                <p>Oluliselt parem j√µudlus t√§nu optimeeritud m√§lukasutusele, 
                   v√§hendatud vahem√§pu puudumistele ja efektiivsele andmet√∂√∂tlusele.</p>
            </td>
            <td>
                <h4>Keerukus</h4>
                <p>N√µuab s√ºgavat arusaamist riistvarast, m√§lustruktuuridest ja 
                   kompilaatori optimeerimistest, mis v√µib olla keeruline.</p>
            </td>
        </tr>
        <tr>
            <td>
                <h4>Skaleeritavus</h4>
                <p>Paranenud skaleeritavus multi-core protsessoritel, kuna 
                   andmeid saab t√∂√∂delda paralleelselt massina.</p>
            </td>
            <td>
                <h4>√úksikandmete t√∂√∂tlemine</h4>
                <p>Ei sobi h√§sti √ºksikute andmete v√µi d√ºnaamiliste andmestruktuuride 
                   t√∂√∂tlemisele, mis n√µuab palju viiteid.</p>
            </td>
        </tr>
        <tr>
            <td>
                <h4>M√§lu ja CPU optimeerimine</h4>
                <p>Optimeeritud m√§lu kasutus ja CPU kasutamine, v√§hendades 
                   m√§luliiklust ja parandades vahem√§ku efektiivsust.</p>
            </td>
            <td>
                <h4>Tehnilise v√µimekuse n√µuded</h4>
                <p>N√µuab arendajatelt k√µrget tehnilist oskustaset riistvara, 
                   m√§lu ja kompilaatori t√∂√∂ m√µistmises.</p>
            </td>
        </tr>
        <tr>
            <td>
                <h4>Ennustatav j√µudlus</h4>
                <p>J√µudlus on paremini ennustatav ja stabiilne, kuna v√§hem 
                   s√µltuvusi ja parem m√§lukontroll.</p>
            </td>
            <td>
                <h4>Halvem abstraktsioon</h4>
                <p>V√§hem abstraktsiooni v√µimalusi v√µrreldes OOP-ga, mis 
                   v√µib teha koodi raskemini loetavaks ja hooldatavaks.</p>
            </td>
        </tr>
        <tr>
            <td>
                <h4>Energiat√µhusus</h4>
                <p>Parem energiat√µhusus t√§nu optimeeritud m√§lukasutusele 
                   ja v√§hematele vahem√§pu puudumistele.</p>
            </td>
            <td>
                <h4>Piiratud kasutusvaldkonnad</h4>
                <p>Ei sobi k√µigile tarkvarat√º√ºpidele, eriti mitte √§rirakendustele 
                   v√µi rakendustele, kus j√µudlus pole kriitiline.</p>
            </td>
        </tr>
    </table>

    <div class="separator"></div>

    <h2>Array of Structs (AoS) vs Struct of Arrays (SoA)</h2>
    <div class="stage-box">
        <h4>Array of Structs (AoS) - traditsiooniline OOP l√§henemine:</h4>
        <div class="code-block">
            <span class="code-keyword">struct</span> <span class="code-function">Player</span> {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">float</span> x, y, z;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">float</span> health;<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">int</span> score;<br>
            };<br><br>
            
            Player players[1000]; <span class="code-comment">// 1000 Player objekti j√§rjestikku</span>
        </div>
        
        <h4>Struct of Arrays (SoA) - DOD l√§henemine:</h4>
        <div class="code-block">
            <span class="code-keyword">struct</span> <span class="code-function">Players</span> {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">float</span> x[1000];<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">float</span> y[1000];<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">float</span> z[1000];<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">float</span> health[1000];<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">int</span> score[1000];<br>
            };<br><br>
            
            Players allPlayers; <span class="code-comment">// K√µik andmed on eraldi massiivides</span>
        </div>
        
        <h4>Miks SoA on DOD-s parem:</h4>
        <ul>
            <li><b>Vahem√§pu efektiivsus:</b> Kui vaja ainult koordinaate (x, y, z), saab k√µik need k√§tte ilma tervise ja skoori andmeid vahem√§llu toomata</li>
            <li><b>Vektoriseerimine:</b> Kompilaator saab lihtsamalt vektoriseerida operatsioone (SIMD)</li>
            <li><b>Paralleelsus:</b> Lihtsam t√∂√∂delda paralleelselt eraldi massiive</li>
            <li><b>M√§lu kokkuhoid:</b> V√§hem viiteid ja m√§luauguprobleeme</li>
        </ul>
    </div>

    <div class="separator"></div>

    <h2>Intel VTune Profiler - DOD t√∂√∂riist</h2>
    <div class="stage-box">
        <h3>N√§ide Intel VTune Profileri kasutamisest DOD-s</h3>
        <p>
            <b>Intel VTune Profiler</b> on t√∂√∂riist, mis v√µimaldab arendajatel anal√º√ºsida ja 
            optimeerida tarkvara j√µudlust. See on eriti kasulik Data-Oriented Design kontekstis, 
            kus j√µudlus ja m√§lukasutus on kriitilised.
        </p>
        
        <h4>Kuidas Intel VTune Profiler aitab meeskonnat√∂√∂s Data-Oriented Design'is:</h4>
        <ul>
            <li><b>J√µudlusprobleemide lahendamine:</b> Meeskonnaliikmed saavad kasutada VTune Profilerit 
                j√µudlusprobleemide lahendamiseks, identifitseerides vahem√§pu puudumisi, 
                m√§luaugud ja CPU kasutuse probleemid.</li>
            <li><b>Andmet√∂√∂tluse anal√º√ºs:</b> T√∂√∂riist pakub √ºlevaadet andmete t√∂√∂tlemise ja 
                optimeerimise v√µimalustest, n√§idates, kuidas andmed liiguvad l√§bi s√ºsteemi.</li>
            <li><b>M√§lukasutuse anal√º√ºs:</b> V√µimaldab anal√º√ºsida m√§lukasutust, tuvastada 
                m√§luaugud ja optimeerida andmete paigutust.</li>
            <li><b>Soojuskaardid:</b> N√§itab, millised koodiosad on k√µige rohkem CPU-d kasutavad, 
                mis aitab identifitseerida optimeerimise v√µimalusi.</li>
            <li><b>Paralleelsuse anal√º√ºs:</b> Anal√º√ºsib paralleelse koodi efektiivsust ja 
                identifitseerib v√µimalusi paremaks skaleerimiseks.</li>
        </ul>
        
        <h4>Intel VTune Profileri peamised funktsioonid DOD jaoks:</h4>
        <ul>
            <li><b>Microarchitecture Exploration:</b> Anal√º√ºsib CPU kasutust ja identifitseerib j√µudluse takistusi</li>
            <li><b>Memory Access Analysis:</b> Anal√º√ºsib m√§lukasutust ja vahem√§pu efektiivsust</li>
            <li><b>Threading Analysis:</b> Anal√º√ºsib paralleelse koodi efektiivsust</li>
            <li><b>Platform Profiling:</b> Anal√º√ºsib s√ºsteemi tasemel j√µudlust (CPU, GPU, m√§lu)</li>
            <li><b>GPU Offload Analysis:</b> Anal√º√ºsib GPU kasutust ja andmeedastust</li>
        </ul>
        
        <h4>Muud olulised Data-Oriented Design t√∂√∂riistad:</h4>
        <ul>
            <li><b>perf (Linux):</b> S√ºsteemi tasemel j√µudluse anal√º√ºsit√∂√∂riist</li>
            <li><b>Valgrind:</b> M√§lu ja vahem√§pu anal√º√ºsi t√∂√∂riist</li>
            <li><b>AMD ŒºProf (endine CodeXL):</b> AMD protsessorite j√µudluse anal√º√ºs</li>
            <li><b>NVIDIA Nsight:</b> GPU j√µudluse anal√º√ºs ja debugimine</li>
            <li><b>Unity Profiler / Unreal Profiler:</b> M√§ngumootorite spetsiifilised profilerid</li>
        </ul>
    </div>

    <div class="separator"></div>

    <h2>Millal kasutada Data-Oriented Designi?</h2>
    <div class="stage-box">
        <h4>Sobivad olukorrad:</h4>
        <ul>
            <li><b>M√§ngumootorid:</b> J√µudluskriitilised graafika- ja f√º√ºsika s√ºsteemid</li>
            <li><b>Teaduslikud simulatsioonid:</b> Suured andmekogumid ja arvutused</li>
            <li><b>Reaalajas√ºsteemid:</b> Finantstehingud, telekommunikatsioon</li>
            <li><b>Andmet√∂√∂tlusrakendused:</b> Suured andmebaasid, anal√º√ºtika</li>
            <li><b>S√ºsteemiprogrammeerimine:</b> OS tuumad, draiverid, sulamikroprotsessorid</li>
        </ul>
        
        <h4>Ebasobivad olukorrad:</h4>
        <ul>
            <li><b>√Ñrirakendused:</b> Kus j√µudlus pole kriitiline</li>
            <li><b>Kiired protot√º√ºbid:</b> Kus kiire arendus on olulisem kui j√µudlus</li>
            <li><b>V√§ikesed projektid:</b> Kus j√µudlusoptimiseeringud on √ºlem√§√§rased</li>
            <li><b>D√ºnaamilised s√ºsteemid:</b> Kus andmestruktuurid muutuvad pidevalt</li>
            <li><b>Meeskonnad ilma riistvara ekspertidega:</b> Kus puudub vajalik tehniline oskus</li>
        </ul>
    </div>

    <div class="separator"></div>

    <div class="sources-list">
        <h3>Kasutatud allikad</h3>
        <ul>
            <li>
                <a href="https://miro.medium.com/v2/resize:fit:720/format:webp/1*vtIyJksRNsV0iv7HAhWLnQ.gif" target="_blank">
                    Data-Oriented Design diagramm - Medium
                </a>
            </li>
            <li>
                <a href="https://en.wikipedia.org/wiki/Data-oriented_design" target="_blank">
                    Data-oriented design - Wikipedia
                </a>
            </li>
            <li>
                <a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/vtune-profiler.html" target="_blank">
                    Intel VTune Profiler - Ametlik dokumentatsioon
                </a>
            </li>
            <li>
                <a href="https://www.dataorienteddesign.com/dodbook/" target="_blank">
                    Data-Oriented Design raamat
                </a>
            </li>
        </ul>
    </div>

    <a href="Agiilsed%20programmeerimisstiilid.html" class="back-link">‚Üê Tagasi Agiilsete programmeerimisstiilide lehele</a>

</div>
</body>
</html>